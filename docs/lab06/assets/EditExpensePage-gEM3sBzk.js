import{d as I,G as V,r as y,o as k,a as w,w as o,u as l,I as B,b as a,e as C,h as U,H as D,f as R,g as s,j as T,x as d,A as m,B as _,C as b,D as E,i as g,s as N,E as S,J as H,v as M}from"./index-VEuANVq5.js";import{e as p,g as P,u as j,f as A,d as i}from"./firebase-Cml_WHV0.js";const q=I({__name:"EditExpensePage",setup(G){const v=V(),f=S(),r=v.params.id,t=y({});k(async()=>{const u=p(i,"expenses",r),e=await P(u);e.exists()&&(t.value=e.data())});const c=async()=>{const u=p(i,"expenses",r);await j(u,{title:t.value.title,amount:Number(t.value.amount),type:t.value.type,category:t.value.category,note:t.value.note}),f.back()},x=async()=>{await(await H.create({header:"ยืนยันการลบ",message:"คุณแน่ใจหรือไม่ที่จะลบรายการนี้?",buttons:[{text:"ยกเลิก",role:"cancel"},{text:"ลบ",role:"confirm",handler:async()=>{await A(p(i,"expenses",r)),f.back()}}]})).present()};return(u,e)=>(M(),w(l(B),null,{default:o(()=>[a(l(T),null,{default:o(()=>[a(l(C),null,{default:o(()=>[a(l(U),{slot:"start"},{default:o(()=>[a(l(D))]),_:1}),a(l(R),null,{default:o(()=>[...e[5]||(e[5]=[s("แก้ไขรายการ",-1)])]),_:1})]),_:1})]),_:1}),a(l(N),{class:"ion-padding"},{default:o(()=>[a(l(d),null,{default:o(()=>[a(l(m),{label:"ชื่อรายการ","label-placement":"floating",modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.title=n)},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(l(m),{label:"จำนวนเงิน",type:"number","label-placement":"floating",modelValue:t.value.amount,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.amount=n),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(l(_),{label:"ประเภท","label-placement":"floating",modelValue:t.value.type,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.type=n)},{default:o(()=>[a(l(b),{value:"income"},{default:o(()=>[...e[6]||(e[6]=[s("รายรับ",-1)])]),_:1}),a(l(b),{value:"expense"},{default:o(()=>[...e[7]||(e[7]=[s("รายจ่าย",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(l(m),{label:"หมวดหมู่","label-placement":"floating",modelValue:t.value.category,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.category=n)},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:o(()=>[a(l(E),{label:"หมายเหตุ","label-placement":"floating",modelValue:t.value.note,"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.note=n)},null,8,["modelValue"])]),_:1}),a(l(g),{expand:"block",class:"ion-margin-top",onClick:c},{default:o(()=>[...e[8]||(e[8]=[s(" อัปเดตข้อมูล ",-1)])]),_:1}),a(l(g),{expand:"block",color:"danger",class:"ion-margin-top",onClick:x},{default:o(()=>[...e[9]||(e[9]=[s(" ลบข้อมูล ",-1)])]),_:1})]),_:1})]),_:1}))}});export{q as default};
