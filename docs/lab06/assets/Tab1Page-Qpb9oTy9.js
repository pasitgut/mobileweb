import{q as I,o as m,c as y,a as x,d as k}from"./firebase-Cml_WHV0.js";import{d as g,r as v,c as f,o as B,a as p,w as e,u as a,I as b,b as t,e as C,f as q,g as d,h as N,i as T,j as L,k as V,l as w,m as r,t as s,n as E,p as F,q as P,F as S,s as h,v as c,x as j,y as z,z as A}from"./index-CI06xJKn.js";const G=g({__name:"Tab1Page",setup(D){const u=v([]),i=f(()=>u.value.filter(n=>n.type==="income").reduce((n,l)=>n+l.amount,0)),_=f(()=>u.value.filter(n=>n.type==="expense").reduce((n,l)=>n+l.amount,0));return B(()=>{const n=I(y(k,"expenses"),m("createdAt","desc"));x(n,l=>{u.value=l.docs.map(o=>({id:o.id,...o.data()}))})}),(n,l)=>(c(),p(a(b),null,{default:e(()=>[t(a(L),null,{default:e(()=>[t(a(C),null,{default:e(()=>[t(a(q),null,{default:e(()=>[...l[0]||(l[0]=[d("รายการรับ-จ่าย",-1)])]),_:1}),t(a(N),{slot:"end"},{default:e(()=>[t(a(T),{"router-link":"/add"},{default:e(()=>[...l[1]||(l[1]=[d("เพิ่มข้อมูล",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(a(h),{fullscreen:!0},{default:e(()=>[t(a(V),null,{default:e(()=>[t(a(w),null,{default:e(()=>[r("p",null,"รายรับรวม: "+s(i.value)+" บาท",1),r("p",null,"รายจ่ายรวม: "+s(_.value)+" บาท",1)]),_:1})]),_:1}),t(a(E),null,{default:e(()=>[(c(!0),F(S,null,P(u.value,o=>(c(),p(a(j),{key:o.id,"router-link":"/edit/"+o.id,button:""},{default:e(()=>[t(a(z),null,{default:e(()=>[r("h2",null,s(o.title),1),r("p",null,s(o.category)+" ("+s(o.type==="income"?"รายรับ":"รายจ่าย")+") ",1)]),_:2},1024),t(a(A),{slot:"end",color:o.type==="income"?"success":"danger"},{default:e(()=>[d(s(o.amount),1)]),_:2},1032,["color"])]),_:2},1032,["router-link"]))),128))]),_:1})]),_:1})]),_:1}))}});export{G as default};
